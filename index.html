<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BrainSait Interactive Course (EN/AR) — Healthcare Interoperability for Saudi Arabia (NPHIES, FHIR, Cloud)." />
  <title>BrainSait — Healthcare Data Insights (EN/AR)</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Outfit:wght@600;700;800&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="assets/theme.css" />
  <script src="assets/course.js" defer></script>
</head>
<body class="min-h-screen">
  <!-- Top right language toggle -->
  <nav class="fixed top-4 right-4 z-50">
    <button onclick="toggleLanguage()" class="bs-btn" aria-label="Toggle language">
      <i class="fas fa-language text-xl"></i>
      <span id="lang-indicator">EN</span>
    </button>
  </nav>

  <main class="bs-container">
    <!-- Hero -->
    <header class="bs-card p-6 sm:p-10 mb-10">
      <div class="flex flex-col gap-6">
        <div class="flex items-center gap-3">
          <img src="assets/logo.svg" alt="BrainSait" class="h-10 w-10" />
          <div class="leading-tight">
            <div class="text-sm bs-muted" data-en="BrainSait Academy" data-ar="أكاديمية برين سايت">BrainSait Academy</div>
            <div class="text-lg font-bold bs-title" data-en="Healthcare Data Insights" data-ar="رؤى بيانات الرعاية الصحية">Healthcare Data Insights</div>
          </div>
        </div>

        <div>
          <h1 class="text-3xl sm:text-5xl font-bold bs-title mb-3" data-en="Interactive Course (EN/AR)" data-ar="دورة تفاعلية (عربي/إنجليزي)">
            Interactive Course (EN/AR)
          </h1>
          <p class="text-base sm:text-lg bs-muted max-w-3xl" data-en="A premium, mobile-first course on interoperability: FHIR, cloud architectures, and Saudi national initiatives (NPHIES) — built for healthcare leaders, product teams, and engineers." data-ar="دورة مميزة ومناسبة للجوال حول التشغيل البيني: FHIR، البنى السحابية، والمبادرات الوطنية في السعودية (نفيس) — مصممة لقادة الرعاية الصحية وفرق المنتجات والمهندسين.">
            A premium, mobile-first course on interoperability: FHIR, cloud architectures, and Saudi national initiatives (NPHIES) — built for healthcare leaders, product teams, and engineers.
          </p>
        </div>

        <div class="flex flex-wrap gap-2">
          <span class="bs-badge"><i class="fas fa-globe"></i><span data-en="Saudi Arabia focus" data-ar="تركيز على السعودية">Saudi Arabia focus</span></span>
          <span class="bs-badge"><i class="fas fa-file-invoice-dollar"></i><span data-en="SAR-ready examples" data-ar="أمثلة بالريال السعودي">SAR-ready examples</span></span>
          <span class="bs-badge"><i class="fas fa-plug"></i><span data-en="FHIR + NPHIES" data-ar="FHIR + نفيس">FHIR + NPHIES</span></span>
          <span class="bs-badge"><i class="fas fa-mobile-screen"></i><span data-en="Mobile-first" data-ar="مناسب للجوال">Mobile-first</span></span>
        </div>

        <div class="flex flex-col sm:flex-row gap-3">
          <a id="continue-btn" class="bs-btn bs-btn-primary" href="modules/module1.html">
            <span data-en="Continue" data-ar="متابعة">Continue</span>
            <i class="fas fa-arrow-right"></i>
          </a>
          <a class="bs-btn" href="#modules">
            <i class="fas fa-layer-group"></i>
            <span data-en="Browse modules" data-ar="استعراض الوحدات">Browse modules</span>
          </a>
        </div>
      </div>
    </header>

    <!-- Progress Overview -->
    <section class="bs-card p-6 sm:p-8 mb-10" aria-labelledby="progress-title">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div>
          <h2 id="progress-title" class="text-2xl sm:text-3xl font-bold bs-title" data-en="Your progress" data-ar="تقدمك">Your progress</h2>
          <p class="bs-muted" data-en="Progress is stored locally in your browser." data-ar="يتم حفظ التقدم محليًا في المتصفح.">Progress is stored locally in your browser.</p>
        </div>
        <div class="text-right">
          <div class="text-sm bs-muted" data-en="Overall completion" data-ar="الإنجاز الإجمالي">Overall completion</div>
          <div class="text-3xl font-bold bs-title"><span id="overall-progress-value">0</span>%</div>
        </div>
      </div>

      <div class="mt-5">
        <div class="bs-card-inner p-2">
          <div id="overall-progress-bar" class="h-3 rounded-full" style="width:0%; background: linear-gradient(120deg, rgba(108, 99, 255, 0.75), rgba(0, 212, 255, 0.70));"></div>
        </div>
      </div>
    </section>

    <!-- Modules -->
    <section id="modules" class="mb-10" aria-labelledby="modules-title">
      <div class="flex items-end justify-between gap-4 mb-5">
        <h2 id="modules-title" class="text-2xl sm:text-3xl font-bold bs-title" data-en="Modules" data-ar="الوحدات">Modules</h2>
        <a class="bs-btn" href="PROJECT_SUMMARY.md" target="_blank" rel="noreferrer">
          <i class="fas fa-file"></i>
          <span data-en="Course summary" data-ar="ملخص الدورة">Course summary</span>
        </a>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- Module cards -->
        <a class="bs-card p-6 hover:bg-white/5 transition" href="modules/module1.html">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm bs-muted" data-en="Module 1" data-ar="الوحدة 1">Module 1</div>
              <div class="text-xl font-bold bs-title" data-en="Foundations" data-ar="الأساسيات">Foundations</div>
              <p class="bs-muted mt-2" data-en="What data silos are, why they happen, and the real impact in healthcare." data-ar="ما هي صوامع البيانات ولماذا تحدث وتأثيرها الحقيقي في الرعاية الصحية.">What data silos are, why they happen, and the real impact in healthcare.</p>
            </div>
            <span class="bs-badge"><i class="far fa-clock"></i><span data-en="20m" data-ar="20د">20m</span></span>
          </div>
          <div class="mt-5">
            <div class="flex items-center justify-between mb-2 text-sm">
              <span class="bs-muted" data-en="Progress" data-ar="التقدم">Progress</span>
              <span class="bs-muted"><span id="progress-label-1">0</span>%</span>
            </div>
            <div class="bs-card-inner p-2">
              <div id="progress-bar-1" class="h-2 rounded-full" style="width:0%; background: rgba(255,255,255,0.25);"></div>
            </div>
          </div>
        </a>

        <a class="bs-card p-6 hover:bg-white/5 transition" href="modules/module2.html">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm bs-muted" data-en="Module 2" data-ar="الوحدة 2">Module 2</div>
              <div class="text-xl font-bold bs-title" data-en="Integration Approaches" data-ar="أساليب التكامل">Integration Approaches</div>
              <p class="bs-muted mt-2" data-en="From HL7 to integration engines: patterns that connect systems safely." data-ar="من HL7 إلى محركات التكامل: أنماط تربط الأنظمة بأمان.">From HL7 to integration engines: patterns that connect systems safely.</p>
            </div>
            <span class="bs-badge"><i class="far fa-clock"></i><span data-en="25m" data-ar="25د">25m</span></span>
          </div>
          <div class="mt-5">
            <div class="flex items-center justify-between mb-2 text-sm">
              <span class="bs-muted" data-en="Progress" data-ar="التقدم">Progress</span>
              <span class="bs-muted"><span id="progress-label-2">0</span>%</span>
            </div>
            <div class="bs-card-inner p-2">
              <div id="progress-bar-2" class="h-2 rounded-full" style="width:0%; background: rgba(255,255,255,0.25);"></div>
            </div>
          </div>
        </a>

        <a class="bs-card p-6 hover:bg-white/5 transition" href="modules/module3.html">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm bs-muted" data-en="Module 3" data-ar="الوحدة 3">Module 3</div>
              <div class="text-xl font-bold bs-title" data-en="Interoperability (FHIR)" data-ar="التشغيل البيني (FHIR)">Interoperability (FHIR)</div>
              <p class="bs-muted mt-2" data-en="FHIR resources, REST APIs, and the Saudi NPHIES context." data-ar="موارد FHIR وواجهات REST والسياق السعودي لمنصة نفيس.">FHIR resources, REST APIs, and the Saudi NPHIES context.</p>
            </div>
            <span class="bs-badge"><i class="far fa-clock"></i><span data-en="25m" data-ar="25د">25m</span></span>
          </div>
          <div class="mt-5">
            <div class="flex items-center justify-between mb-2 text-sm">
              <span class="bs-muted" data-en="Progress" data-ar="التقدم">Progress</span>
              <span class="bs-muted"><span id="progress-label-3">0</span>%</span>
            </div>
            <div class="bs-card-inner p-2">
              <div id="progress-bar-3" class="h-2 rounded-full" style="width:0%; background: rgba(255,255,255,0.25);"></div>
            </div>
          </div>
        </a>

        <a class="bs-card p-6 hover:bg-white/5 transition" href="modules/module4.html">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm bs-muted" data-en="Module 4" data-ar="الوحدة 4">Module 4</div>
              <div class="text-xl font-bold bs-title" data-en="Cloud Solutions" data-ar="الحلول السحابية">Cloud Solutions</div>
              <p class="bs-muted mt-2" data-en="Managed FHIR services, cloud architectures, and KSA data residency." data-ar="خدمات FHIR المُدارة، والهندسة السحابية، وإقامة البيانات في السعودية.">Managed FHIR services, cloud architectures, and KSA data residency.</p>
            </div>
            <span class="bs-badge"><i class="far fa-clock"></i><span data-en="30m" data-ar="30د">30m</span></span>
          </div>
          <div class="mt-5">
            <div class="flex items-center justify-between mb-2 text-sm">
              <span class="bs-muted" data-en="Progress" data-ar="التقدم">Progress</span>
              <span class="bs-muted"><span id="progress-label-4">0</span>%</span>
            </div>
            <div class="bs-card-inner p-2">
              <div id="progress-bar-4" class="h-2 rounded-full" style="width:0%; background: rgba(255,255,255,0.25);"></div>
            </div>
          </div>
        </a>

        <a class="bs-card p-6 hover:bg-white/5 transition" href="modules/module5.html">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm bs-muted" data-en="Module 5" data-ar="الوحدة 5">Module 5</div>
              <div class="text-xl font-bold bs-title" data-en="National Frameworks" data-ar="الأطر الوطنية">National Frameworks</div>
              <p class="bs-muted mt-2" data-en="NPHIES deep dive + a global comparison (TEFCA)." data-ar="تعمق في نفيس + مقارنة عالمية (TEFCA).">NPHIES deep dive + a global comparison (TEFCA).</p>
            </div>
            <span class="bs-badge"><i class="far fa-clock"></i><span data-en="30m" data-ar="30د">30m</span></span>
          </div>
          <div class="mt-5">
            <div class="flex items-center justify-between mb-2 text-sm">
              <span class="bs-muted" data-en="Progress" data-ar="التقدم">Progress</span>
              <span class="bs-muted"><span id="progress-label-5">0</span>%</span>
            </div>
            <div class="bs-card-inner p-2">
              <div id="progress-bar-5" class="h-2 rounded-full" style="width:0%; background: rgba(255,255,255,0.25);"></div>
            </div>
          </div>
        </a>

        <a class="bs-card p-6 hover:bg-white/5 transition" href="modules/module6.html">
          <div class="flex items-start justify-between gap-4">
            <div>
              <div class="text-sm bs-muted" data-en="Module 6" data-ar="الوحدة 6">Module 6</div>
              <div class="text-xl font-bold bs-title" data-en="Future Technologies" data-ar="التقنيات المستقبلية">Future Technologies</div>
              <p class="bs-muted mt-2" data-en="AI, IoMT, privacy, and what’s next for interoperability." data-ar="الذكاء الاصطناعي وإنترنت الأشياء الطبي والخصوصية وما القادم للتشغيل البيني.">AI, IoMT, privacy, and what’s next for interoperability.</p>
            </div>
            <span class="bs-badge"><i class="far fa-clock"></i><span data-en="25m" data-ar="25د">25m</span></span>
          </div>
          <div class="mt-5">
            <div class="flex items-center justify-between mb-2 text-sm">
              <span class="bs-muted" data-en="Progress" data-ar="التقدم">Progress</span>
              <span class="bs-muted"><span id="progress-label-6">0</span>%</span>
            </div>
            <div class="bs-card-inner p-2">
              <div id="progress-bar-6" class="h-2 rounded-full" style="width:0%; background: rgba(255,255,255,0.25);"></div>
            </div>
          </div>
        </a>
      </div>
    </section>

    <!-- Quick knowledge check -->
    <section class="bs-card p-6 sm:p-8 mb-10" aria-labelledby="quiz-title">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h2 id="quiz-title" class="text-2xl sm:text-3xl font-bold bs-title" data-en="Quick knowledge check" data-ar="اختبار سريع">Quick knowledge check</h2>
          <p class="bs-muted" data-en="Tap an option — your selection is highlighted." data-ar="اختر إجابة — سيتم تمييز اختيارك.">Tap an option — your selection is highlighted.</p>
        </div>
        <span class="bs-badge"><i class="fas fa-bolt"></i><span data-en="1 question" data-ar="سؤال واحد">1 question</span></span>
      </div>

      <div class="mt-6">
        <h3 class="text-lg sm:text-xl font-bold mb-4" data-en="Which FHIR version does Saudi NPHIES use?" data-ar="أي إصدار من FHIR تستخدمه نفيس السعودية؟">Which FHIR version does Saudi NPHIES use?</h3>

        <div class="space-y-3" id="quiz-options">
          <button type="button" class="w-full text-left p-4 bs-card-inner hover:bg-white/5 transition" data-correct="false">
            <span data-en="A) FHIR R3" data-ar="أ) FHIR R3">A) FHIR R3</span>
          </button>
          <button type="button" class="w-full text-left p-4 bs-card-inner hover:bg-white/5 transition" data-correct="true">
            <span data-en="B) FHIR R4" data-ar="ب) FHIR R4">B) FHIR R4</span>
          </button>
          <button type="button" class="w-full text-left p-4 bs-card-inner hover:bg-white/5 transition" data-correct="false">
            <span data-en="C) FHIR R5" data-ar="ج) FHIR R5">C) FHIR R5</span>
          </button>
        </div>

        <div id="quiz-feedback" class="mt-4 bs-card-inner p-4 hidden"></div>
      </div>
    </section>

    <!-- Podcast / Audio Section -->
    <section class="bs-card p-6 sm:p-8 mb-10" aria-labelledby="audio-title">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h2 id="audio-title" class="text-2xl sm:text-3xl font-bold bs-title" data-en="Podcast: Healthcare Interoperability Insights" data-ar="بودكاست: رؤى التشغيل البيني للرعاية الصحية">Podcast: Healthcare Interoperability Insights</h2>
          <p class="bs-muted" data-en="Listen to industry experts discuss FHIR, NPHIES, and Saudi Arabia's digital health transformation." data-ar="استمع إلى خبراء الصناعة يناقشون FHIR ونفيس والتحول الصحي الرقمي في السعودية.">Listen to industry experts discuss FHIR, NPHIES, and Saudi Arabia's digital health transformation.</p>
        </div>
        <span class="bs-badge"><i class="fas fa-headphones"></i><span data-en="Audio" data-ar="صوت">Audio</span></span>
      </div>

      <div class="mt-6">
        <div class="bs-card-inner p-6">
          <div class="flex flex-col md:flex-row items-center gap-6">
            <div class="w-full md:w-1/3 text-center">
              <div class="bs-card-inner p-8 rounded-full inline-block">
                <i class="fas fa-podcast text-5xl text-[color:var(--bs-accent)]"></i>
              </div>
            </div>
            <div class="w-full md:w-2/3">
              <h3 class="text-xl sm:text-2xl font-bold mb-4 bs-title" data-en="Episode 1: The Future of Healthcare Data Exchange" data-ar="الحلقة 1: مستقبل تبادل البيانات الصحية">Episode 1: The Future of Healthcare Data Exchange</h3>
              <p class="bs-muted mb-4" data-en="In this episode, we explore how FHIR and NPHIES are revolutionizing healthcare data exchange in Saudi Arabia and the broader Middle East region." data-ar="في هذه الحلقة، نستكشف كيف يحدث FHIR ونفيس ثورة في تبادل البيانات الصحية في المملكة العربية السعودية ومنطقة الشرق الأوسط الأوسع.">In this episode, we explore how FHIR and NPHIES are revolutionizing healthcare data exchange in Saudi Arabia and the broader Middle East region.</p>
              
              <!-- Audio Player -->
              <div class="mt-6">
                <div class="flex items-center gap-4 mb-4">
                  <button class="bs-btn bs-btn-primary p-3 rounded-full" aria-label="Play podcast">
                    <i class="fas fa-play text-xl"></i>
                  </button>
                  <div class="flex-1">
                    <div class="flex justify-between text-sm bs-muted mb-1">
                      <span data-en="0:00" data-ar="0:00">0:00</span>
                      <span data-en="15:30" data-ar="15:30">15:30</span>
                    </div>
                    <div class="bs-card-inner h-2">
                      <div class="h-full rounded-full" style="width: 35%; background: linear-gradient(120deg, rgba(108, 99, 255, 0.75), rgba(0, 212, 255, 0.70));"></div>
                    </div>
                  </div>
                </div>
                
                <div class="flex flex-wrap gap-2">
                  <button class="bs-btn">
                    <i class="fas fa-step-backward"></i>
                    <span data-en="15s" data-ar="15ث">15s</span>
                  </button>
                  <button class="bs-btn">
                    <i class="fas fa-step-forward"></i>
                    <span data-en="15s" data-ar="15ث">15s</span>
                  </button>
                  <button class="bs-btn">
                    <i class="fas fa-volume-up"></i>
                    <span data-en="Volume" data-ar="الصوت">Volume</span>
                  </button>
                  <a href="https://github.com/fadil369/brainsait-healthcare-course/raw/main/assets/podcast-ep1.mp3" class="bs-btn" download>
                    <i class="fas fa-download"></i>
                    <span data-en="Download MP3" data-ar="تحميل MP3">Download MP3</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-6 grid md:grid-cols-2 gap-4">
          <div class="bs-card-inner p-4">
            <h4 class="font-bold mb-2 flex items-center gap-2">
              <i class="fas fa-microphone"></i>
              <span data-en="Featured Guests" data-ar="الضيوف المميزون">Featured Guests</span>
            </h4>
            <ul class="bs-muted text-sm space-y-1">
              <li data-en="• Dr. Ahmed Al-Mohammed - NPHIES Technical Lead" data-ar="• د. أحمد المحمد - القائد الفني لنفيس">• Dr. Ahmed Al-Mohammed - NPHIES Technical Lead</li>
              <li data-en="• Sarah Johnson - FHIR Foundation" data-ar="• سارة جونسون - مؤسسة FHIR">• Sarah Johnson - FHIR Foundation</li>
              <li data-en="• Eng. Khalid Al-Rashid - Seha Virtual Hospital" data-ar="• م. خالد الرشيد - مستشفى صحة الافتراضي">• Eng. Khalid Al-Rashid - Seha Virtual Hospital</li>
            </ul>
          </div>
          <div class="bs-card-inner p-4">
            <h4 class="font-bold mb-2 flex items-center gap-2">
              <i class="fas fa-calendar-alt"></i>
              <span data-en="Coming Soon" data-ar="قريبًا">Coming Soon</span>
            </h4>
            <ul class="bs-muted text-sm space-y-1">
              <li data-en="• Episode 2: Cloud Solutions for Healthcare" data-ar="• الحلقة 2: الحلول السحابية للرعاية الصحية">• Episode 2: Cloud Solutions for Healthcare</li>
              <li data-en="• Episode 3: AI in Saudi Healthcare" data-ar="• الحلقة 3: الذكاء الاصطناعي في الرعاية الصحية السعودية">• Episode 3: AI in Saudi Healthcare</li>
              <li data-en="• Episode 4: Patient Data Privacy" data-ar="• الحلقة 4: خصوصية بيانات المرضى">• Episode 4: Patient Data Privacy</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <footer class="py-10 text-center bs-muted">
      <p>
        <span data-en="Built with BrainSait premium theme." data-ar="مبني باستخدام ثيم برين سايت المميز.">Built with BrainSait premium theme.</span>
      </p>
    </footer>
  </main>

  <script>
    function getModuleProgress(i) {
      const v = Number(localStorage.getItem(`module${i}Progress`) || 0);
      return Number.isFinite(v) ? Math.max(0, Math.min(100, v)) : 0;
    }

    function setProgressBar(i, percent) {
      const bar = document.getElementById(`progress-bar-${i}`);
      const label = document.getElementById(`progress-label-${i}`);
      if (bar) bar.style.width = `${percent}%`;
      if (label) label.textContent = String(percent);

      // Use the brand gradient only once users have progress; otherwise keep it subtle.
      if (bar) {
        bar.style.background =
          percent > 0
            ? 'linear-gradient(120deg, rgba(108, 99, 255, 0.75), rgba(0, 212, 255, 0.70))'
            : 'rgba(255,255,255,0.25)';
      }
    }

    function updateProgressUI() {
      let total = 0;
      for (let i = 1; i <= 6; i++) {
        const p = getModuleProgress(i);
        total += p;
        setProgressBar(i, p);
      }
      const overall = Math.round(total / 6);
      const overallValue = document.getElementById('overall-progress-value');
      const overallBar = document.getElementById('overall-progress-bar');
      if (overallValue) overallValue.textContent = String(overall);
      if (overallBar) overallBar.style.width = `${overall}%`;

      const continueBtn = document.getElementById('continue-btn');
      if (continueBtn) {
        const next = findNextModule();
        continueBtn.href = `modules/module${next}.html`;
      }
    }

    function findNextModule() {
      for (let i = 1; i <= 6; i++) {
        if (getModuleProgress(i) < 100) return i;
      }
      return 6;
    }

    function setupQuiz() {
      const container = document.getElementById('quiz-options');
      const feedback = document.getElementById('quiz-feedback');
      if (!container || !feedback) return;

      container.addEventListener('click', (e) => {
        const btn = e.target.closest('button[data-correct]');
        if (!btn) return;

        // reset styles
        container.querySelectorAll('button[data-correct]').forEach((b) => {
          b.classList.remove('border', 'bg-green-500/10', 'border-green-500/60', 'bg-red-500/10', 'border-red-500/60');
          b.classList.add('bs-card-inner');
        });

        const correct = btn.getAttribute('data-correct') === 'true';
        if (correct) {
          btn.classList.add('border', 'bg-green-500/10', 'border-green-500/60');
          feedback.classList.remove('hidden');
          feedback.classList.remove('border-red-500/60', 'bg-red-500/10');
          feedback.classList.add('border', 'border-green-500/60', 'bg-green-500/10');
          feedback.textContent = (window.getCourseLang && window.getCourseLang() === 'ar')
            ? 'صحيح — نفيس تستخدم FHIR R4.'
            : 'Correct — NPHIES uses FHIR R4.';

          // Gentle nudge: mark Module 3 as started.
          const current = getModuleProgress(3);
          if (current < 15) localStorage.setItem('module3Progress', '15');
          updateProgressUI();
        } else {
          btn.classList.add('border', 'bg-red-500/10', 'border-red-500/60');
          feedback.classList.remove('hidden');
          feedback.classList.remove('border-green-500/60', 'bg-green-500/10');
          feedback.classList.add('border', 'border-red-500/60', 'bg-red-500/10');
          feedback.textContent = (window.getCourseLang && window.getCourseLang() === 'ar')
            ? 'ليست هذه الإجابة. حاول مرة أخرى.'
            : 'Not quite. Try again.';
        }
      });

      // Update feedback language when toggling language.
      window.addEventListener('courseLangChanged', () => {
        if (feedback.classList.contains('hidden')) return;
        // Re-trigger by simulating a click on the selected option (if any)
        const selected = container.querySelector('button.border[data-correct]');
        if (selected) selected.click();
      });
    }

    window.addEventListener('DOMContentLoaded', () => {
      updateProgressUI();
      setupQuiz();
    });
  </script>
</body>
</html>
